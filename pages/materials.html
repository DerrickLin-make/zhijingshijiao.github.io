<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èµ„æ–™åº“ - æ™ºå¢ƒè¯—æ•™</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .materials-header {
            background: var(--gradient-primary);
            color: var(--white);
            padding: var(--spacing-3xl) 0 var(--spacing-2xl);
            margin-top: 70px;
        }
        
        .materials-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: var(--spacing-md);
        }
        
        .materials-subtitle {
            font-size: 1.125rem;
            opacity: 0.9;
        }
        
        .search-section {
            padding: var(--spacing-2xl) 0;
            background: var(--gray-50);
        }
        
        .search-container {
            display: flex;
            gap: var(--spacing-lg);
            align-items: center;
            flex-wrap: wrap;
        }
        
        .search-box {
            flex: 1;
            min-width: 300px;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: var(--spacing-md) var(--spacing-lg) var(--spacing-md) 50px;
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-lg);
            font-size: 1rem;
            transition: var(--transition-fast);
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }
        
        .search-icon {
            position: absolute;
            left: var(--spacing-lg);
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-400);
        }
        
        .filter-buttons {
            display: flex;
            gap: var(--spacing-sm);
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: var(--spacing-sm) var(--spacing-lg);
            border: 2px solid var(--gray-200);
            background: var(--white);
            color: var(--gray-600);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition-fast);
            font-weight: 500;
        }
        
        .filter-btn:hover,
        .filter-btn.active {
            border-color: var(--primary-blue);
            background: var(--primary-blue);
            color: var(--white);
        }
        
        .materials-content {
            padding: var(--spacing-2xl) 0;
        }
        
        .materials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: var(--spacing-lg);
            margin-top: var(--spacing-lg);
        }
        
        .material-card {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-lg);
            overflow: hidden;
            transition: var(--transition-normal);
            cursor: pointer;
        }
        
        .material-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }
        
        .material-image {
            width: 100%;
            height: 200px;
            background: var(--gradient-card);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray-500);
            font-size: 3rem;
        }
        
        .material-body {
            padding: var(--spacing-lg);
        }
        
        .material-category {
            display: inline-block;
            padding: var(--spacing-xs) var(--spacing-sm);
            background: rgba(99, 102, 241, 0.1);
            color: var(--primary-blue);
            border-radius: var(--radius-sm);
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: var(--spacing-sm);
        }
        
        .material-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: var(--spacing-sm);
            line-height: 1.4;
        }
        
        .material-author {
            color: var(--gray-600);
            font-size: 0.875rem;
            margin-bottom: var(--spacing-sm);
        }
        
        .material-excerpt {
            color: var(--gray-600);
            line-height: 1.6;
            margin-bottom: var(--spacing-lg);
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .material-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-top: var(--spacing-md);
            border-top: 1px solid var(--gray-200);
        }
        
        .material-difficulty {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            font-size: 0.875rem;
            color: var(--gray-600);
        }
        
        .difficulty-stars {
            display: flex;
            gap: 2px;
        }
        
        .star {
            width: 12px;
            height: 12px;
            background: var(--gray-300);
            border-radius: 2px;
        }
        
        .star.filled {
            background: var(--warning-yellow);
        }
        
        .material-actions {
            display: flex;
            gap: var(--spacing-sm);
        }
        
        .action-btn {
            padding: var(--spacing-xs) var(--spacing-sm);
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: 0.875rem;
            transition: var(--transition-fast);
        }
        
        .btn-view {
            background: var(--primary-blue);
            color: var(--white);
        }
        
        .btn-view:hover {
            background: var(--primary-blue-dark);
        }
        
        .btn-favorite {
            background: var(--gray-100);
            color: var(--gray-600);
        }
        
        .btn-favorite:hover,
        .btn-favorite.active {
            background: var(--error-red);
            color: var(--white);
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--spacing-sm);
            margin-top: var(--spacing-2xl);
        }
        
        .page-btn {
            padding: var(--spacing-sm) var(--spacing-md);
            border: 1px solid var(--gray-200);
            background: var(--white);
            color: var(--gray-600);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition-fast);
        }
        
        .page-btn:hover,
        .page-btn.active {
            border-color: var(--primary-blue);
            background: var(--primary-blue);
            color: var(--white);
        }
        
        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .loading-state {
            text-align: center;
            padding: var(--spacing-3xl);
            color: var(--gray-500);
        }
        
        .empty-state {
            text-align: center;
            padding: var(--spacing-3xl);
            color: var(--gray-500);
        }
        
        .empty-icon {
            font-size: 4rem;
            margin-bottom: var(--spacing-lg);
            opacity: 0.5;
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <div class="logo">
                    <img src="logo.png" alt="Logo" width="64" height="26">
                   
                </div>
            </div>
            <div class="nav-menu" id="navMenu">
                <a href="../index.html" class="nav-link">é¦–é¡µ</a>
                <a href="materials.html" class="nav-link active">èµ„æ–™åº“</a>
                <a href="chat.html" class="nav-link">æ™ºèƒ½åŠ©æ‰‹</a>
                <a href="analysis.html" class="nav-link">æœ—è¯»åˆ†æ</a>
            </div>
            <div class="nav-toggle" id="navToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- é¡µé¢å¤´éƒ¨ -->
    <header class="materials-header">
        <div class="container">
            <h1 class="materials-title">å­¦ä¹ èµ„æ–™åº“</h1>
            <p class="materials-subtitle">ç²¾é€‰æœ—è¯»ææ–™ï¼Œåˆ†ç±»æ¸…æ™°ï¼ŒåŠ©ä½ æå‡æœ—è¯»æŠ€èƒ½</p>
        </div>
    </header>
    <div class="button-center-container">
        <a href="https://www.gushiwen.cn/" target="_blank" style="
            display: inline-block;
            padding: 10px 20px;
            font-size: 16px;
            font-weight: bold;
            color: #ffffff;
            background-color: #8B5CF6; 
            border: none;
            border-radius: 5px;
            text-align: center;
            text-decoration: none; /* ç§»é™¤ä¸‹åˆ’çº¿ */
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease, transform 0.2s ease;
            margin-right: 40px;
        ">
            å¤è¯—æ–‡ç½‘-å¤è¯—æ–‡ç»å…¸ä¼ æ‰¿
        </a>
        <a href="https://pan.baidu.com/s/1n5H8RiCmiExSNxYBgpszTg?pwd=QfgJ " target="_blank" style="
            display: inline-block;
            padding: 10px 20px;
            font-size: 16px;
            font-weight: bold;
            color: #ffffff;
            background-color: #8B5CF6; 
            border: none;
            border-radius: 5px;
            text-align: center;
            text-decoration: none; /* ç§»é™¤ä¸‹åˆ’çº¿ */
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease, transform 0.2s ease;
            
        ">
            æœ—è¯µæŠ€å·§
        </a>
    </div>
    </body>
    </html>
    <style>
        /* ... æ‚¨ç°æœ‰çš„ CSS æ ·å¼ ... */
    
        .button-center-container {
            display: flex; /* ä½¿ç”¨ Flexbox */
            justify-content: center; /* æ°´å¹³å±…ä¸­ */
            align-items: center; /* å‚ç›´å±…ä¸­ (å¦‚æœå®¹å™¨æœ‰é«˜åº¦) */
            width: 100%; /* è®©å®¹å™¨å æ®æ•´ä¸ªå®½åº¦ */
            padding: 20px 0; /* ç»™æŒ‰é’®ä¸Šä¸‹ç•™ä¸€äº›ç©ºé—´ */
            margin-top: 40px; /* æ ¹æ®éœ€è¦è°ƒæ•´ä¸ä¸Šæ–¹å†…å®¹çš„è·ç¦» */
            margin-bottom: 40px; /* æ ¹æ®éœ€è¦è°ƒæ•´ä¸ä¸‹æ–¹å†…å®¹çš„è·ç¦» */
        }
    
        /* å¯é€‰ï¼šä¸ºæŒ‰é’®æ·»åŠ hoveræ•ˆæœ */
        .gushiwen-button:hover {
            background-color: #6a3ab2; /* æ›´æ·±çš„ç´«è‰² */
            transform: translateY(-2px); /* å‘ä¸Šè½»å¾®æµ®åŠ¨ */
        }
    </style>
    <!-- æœç´¢å’Œç­›é€‰
    <section class="search-section">
        <div class="container">
            <div class="search-container">
                <div class="search-box">
                    <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M19 19L13 13L19 19ZM15 8C15 11.866 11.866 15 8 15C4.134 15 1 11.866 1 8C1 4.134 4.134 1 8 1C11.866 1 15 4.134 15 8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <input type="text" class="search-input" placeholder="æœç´¢æœ—è¯»ææ–™..." id="searchInput">
                </div>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-category="all">å…¨éƒ¨</button>
                    <button class="filter-btn" data-category="poetry">å¤è¯—è¯</button>
                    <button class="filter-btn" data-category="modern">ç°ä»£è¯—</button>
                    <button class="filter-btn" data-category="prose">æ•£æ–‡</button>
                    <button class="filter-btn" data-category="classic">ç»å…¸æ–‡å­¦</button>
                </div>
            </div>
        </div>
    </section> -->

    <!-- ææ–™å†…å®¹ -->
    <main class="materials-content">
        <div class="container">
            <div id="materialsGrid" class="materials-grid">
                <!-- ææ–™å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <!-- åˆ†é¡µ -->
            <div class="pagination" id="pagination">
                <!-- åˆ†é¡µæŒ‰é’®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <!-- åŠ è½½çŠ¶æ€ -->
            <div class="loading-state" id="loadingState" style="display: none;">
                <div class="loading-spinner"></div>
                <p>æ­£åœ¨åŠ è½½èµ„æ–™...</p>
            </div>
            
            <!-- ç©ºçŠ¶æ€ -->
            <div class="empty-state" id="emptyState" style="display: none;">
                <div class="empty-icon">ğŸ“š</div>
                <h3>æš‚æ— ç›¸å…³èµ„æ–™</h3>
                <p>è¯·å°è¯•å…¶ä»–æœç´¢æ¡ä»¶æˆ–åˆ†ç±»</p>
            </div>
        </div>
    </main>

    <!-- ææ–™è¯¦æƒ…æ¨¡æ€æ¡† -->
    <div class="modal" id="materialModal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">ææ–™è¯¦æƒ…</h3>
                <button class="modal-close" onclick="closeMaterialModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- è¯¦æƒ…å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <!-- <script src="../js/api.js"></script>
    <script src="../js/main.js"></script> -->
    <!-- <script>
        let currentCategory = 'all';
        let currentSearch = '';
        let sessionId = utils.getSessionId();

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            loadMaterials();
            initSearchAndFilter();
        });

        // åŠ è½½ææ–™æ•°æ®
        async function loadMaterials() {
            try {
                const params = {
                    category: currentCategory === 'all' ? '' : currentCategory,
                    search: currentSearch,
                    page: 1,
                    per_page: 12
                };

                const response = await materialsAPI.getMaterials(params);
                
                if (response.success) {
                    displayMaterials(response.data.materials);
                } else {
                    utils.showNotification('åŠ è½½ææ–™å¤±è´¥', 'error');
                }
            } catch (error) {
                console.error('åŠ è½½ææ–™å¤±è´¥:', error);
                utils.showNotification('åŠ è½½ææ–™å¤±è´¥', 'error');
            }
        }

        // æ˜¾ç¤ºææ–™åˆ—è¡¨
        function displayMaterials(materials) {
            const materialsGrid = document.getElementById('materialsGrid');
            
            if (!materials || materials.length === 0) {
                materialsGrid.innerHTML = `
                    <div class="no-materials">
                        <p>æš‚æ— ç¬¦åˆæ¡ä»¶çš„ææ–™</p>
                    </div>
                `;
                return;
            }

            materialsGrid.innerHTML = materials.map(material => `
                <div class="material-card" data-category="${material.category}">
                    <div class="material-icon">
                        ${getCategoryIcon(material.category)}
                    </div>
                    <div class="material-category">${getCategoryName(material.category)}</div>
                    <h3 class="material-title">${material.title}</h3>
                    <div class="material-author">ä½œè€…ï¼š${material.author}</div>
                    <div class="material-excerpt">${material.excerpt}</div>
                    <div class="material-meta">
                        <div class="difficulty">
                            éš¾åº¦ï¼š${'â˜…'.repeat(material.difficulty)}${'â˜†'.repeat(5 - material.difficulty)}
                        </div>
                    </div>
                    <div class="material-actions">
                        <button class="btn-view" onclick="viewMaterial(${material.id})">æŸ¥çœ‹</button>
                        <button class="btn-favorite" onclick="toggleFavorite(${material.id}, this)">
                            ğŸ¤
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // è·å–åˆ†ç±»å›¾æ ‡
        function getCategoryIcon(category) {
            const icons = {
                'poetry': 'ğŸ“œ',
                'modern': 'ğŸ­',
                'prose': 'ğŸ“–',
                'classic': 'ğŸ“š'
            };
            return icons[category] || 'ğŸ“„';
        }

        // è·å–åˆ†ç±»åç§°
        function getCategoryName(category) {
            const names = {
                'poetry': 'å¤è¯—è¯',
                'modern': 'ç°ä»£è¯—',
                'prose': 'æ•£æ–‡',
                'classic': 'ç»å…¸æ–‡å­¦'
            };
            return names[category] || 'å…¶ä»–';
        }

        // åˆå§‹åŒ–æœç´¢å’Œç­›é€‰
        function initSearchAndFilter() {
            const searchInput = document.getElementById('searchInput');
            const filterButtons = document.querySelectorAll('.filter-btn');

            // æœç´¢åŠŸèƒ½
            searchInput.addEventListener('input', function() {
                currentSearch = this.value.trim();
                debounce(loadMaterials, 500)();
            });

            // åˆ†ç±»ç­›é€‰
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // æ›´æ–°æŒ‰é’®çŠ¶æ€
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // æ›´æ–°å½“å‰åˆ†ç±»
                    currentCategory = this.dataset.category || 'all';
                    loadMaterials();
                });
            });
        }

        // é˜²æŠ–å‡½æ•°
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // æŸ¥çœ‹ææ–™è¯¦æƒ…
        async function viewMaterial(materialId) {
            try {
                const response = await materialsAPI.getMaterial(materialId);
                
                if (response.success) {
                    showMaterialModal(response.data);
                } else {
                    utils.showNotification('è·å–ææ–™è¯¦æƒ…å¤±è´¥', 'error');
                }
            } catch (error) {
                console.error('è·å–ææ–™è¯¦æƒ…å¤±è´¥:', error);
                utils.showNotification('è·å–ææ–™è¯¦æƒ…å¤±è´¥', 'error');
            }
        }

        // æ˜¾ç¤ºææ–™è¯¦æƒ…æ¨¡æ€æ¡†
        function showMaterialModal(material) {
            const modal = document.createElement('div');
            modal.className = 'material-modal';
            modal.innerHTML = `
                <div class="modal-overlay" onclick="closeMaterialModal()"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>${material.title}</h2>
                        <button class="modal-close" onclick="closeMaterialModal()">Ã—</button>
                    </div>
                    <div class="modal-body">
                        <div class="material-info">
                            <p><strong>ä½œè€…ï¼š</strong>${material.author}</p>
                            <p><strong>åˆ†ç±»ï¼š</strong>${getCategoryName(material.category)}</p>
                            <p><strong>éš¾åº¦ï¼š</strong>${'â˜…'.repeat(material.difficulty)}${'â˜†'.repeat(5 - material.difficulty)}</p>
                        </div>
                        <div class="material-content">
                            <h3>å†…å®¹ï¼š</h3>
                            <div class="content-text">${material.content.replace(/\n/g, '<br>')}</div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-primary" onclick="startPractice(${material.id})">å¼€å§‹ç»ƒä¹ </button>
                        <button class="btn btn-secondary" onclick="closeMaterialModal()">å…³é—­</button>
                    </div>
                </div>
            `;

            // æ·»åŠ æ ·å¼
            const style = document.createElement('style');
            style.textContent = `
                .material-modal {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    z-index: 10000;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                .modal-overlay {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.5);
                }
                .modal-content {
                    position: relative;
                    background: white;
                    border-radius: 12px;
                    max-width: 600px;
                    max-height: 80vh;
                    overflow-y: auto;
                    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
                }
                .modal-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 20px;
                    border-bottom: 1px solid #e5e7eb;
                }
                .modal-close {
                    background: none;
                    border: none;
                    font-size: 24px;
                    cursor: pointer;
                    color: #6b7280;
                }
                .modal-body {
                    padding: 20px;
                }
                .material-info {
                    margin-bottom: 20px;
                }
                .content-text {
                    line-height: 1.8;
                    font-size: 16px;
                    color: #374151;
                }
                .modal-footer {
                    padding: 20px;
                    border-top: 1px solid #e5e7eb;
                    display: flex;
                    gap: 10px;
                    justify-content: flex-end;
                }
            `;
            
            document.head.appendChild(style);
            document.body.appendChild(modal);
        }

        // å…³é—­ææ–™è¯¦æƒ…æ¨¡æ€æ¡†
        function closeMaterialModal() {
            const modal = document.querySelector('.material-modal');
            if (modal) {
                modal.remove();
            }
        }

        // åˆ‡æ¢æ”¶è—çŠ¶æ€
        async function toggleFavorite(materialId, button) {
            try {
                const response = await materialsAPI.toggleFavorite(materialId, sessionId);
                
                if (response.success) {
                    const isFavorited = response.data.is_favorited;
                    button.textContent = isFavorited ? 'â¤ï¸' : 'ğŸ¤';
                    utils.showNotification(
                        isFavorited ? 'å·²æ·»åŠ åˆ°æ”¶è—' : 'å·²å–æ¶ˆæ”¶è—', 
                        'success'
                    );
                } else {
                    utils.showNotification('æ“ä½œå¤±è´¥', 'error');
                }
            } catch (error) {
                console.error('åˆ‡æ¢æ”¶è—å¤±è´¥:', error);
                utils.showNotification('æ“ä½œå¤±è´¥', 'error');
            }
        }

        // å¼€å§‹ç»ƒä¹ 
        function startPractice(materialId) {
            closeMaterialModal();
            utils.showNotification('å³å°†è·³è½¬åˆ°ç»ƒä¹ é¡µé¢', 'info');
            // è¿™é‡Œå¯ä»¥è·³è½¬åˆ°ç»ƒä¹ é¡µé¢æˆ–æœ—è¯»åˆ†æé¡µé¢
            setTimeout(() => {
                window.location.href = 'analysis.html';
            }, 1000);
        }
    </script> -->
    <script>
        // ææ–™æ•°æ®
        const materialsData = [
            {
                id: 1,
                title: "é™å¤œæ€",
                author: "æç™½",
                category: "poetry",
                difficulty: 2,
                excerpt: "åºŠå‰æ˜æœˆå…‰ï¼Œç–‘æ˜¯åœ°ä¸Šéœœã€‚ä¸¾å¤´æœ›æ˜æœˆï¼Œä½å¤´æ€æ•…ä¹¡ã€‚",
                content: `åºŠå‰æ˜æœˆå…‰ï¼Œç–‘æ˜¯åœ°ä¸Šéœœã€‚
ä¸¾å¤´æœ›æ˜æœˆï¼Œä½å¤´æ€æ•…ä¹¡ã€‚

è¿™æ˜¯æç™½çš„ä»£è¡¨ä½œä¹‹ä¸€ï¼Œè¡¨è¾¾äº†è¯—äººå¯¹æ•…ä¹¡çš„æ€å¿µä¹‹æƒ…ã€‚è¯—æ­Œè¯­è¨€ç®€æ´æ˜äº†ï¼Œæ„å¢ƒæ·±è¿œï¼Œæ˜¯æœ—è¯»ç»ƒä¹ çš„ç»å…¸ææ–™ã€‚

æœ—è¯»è¦ç‚¹ï¼š
1. è¯­è°ƒè¦å¹³ç¼“ï¼Œä½“ç°æ€å¿µçš„æƒ…æ„Ÿ
2. æ³¨æ„åœé¡¿ï¼Œ"åºŠå‰æ˜æœˆå…‰"åç¨ä½œåœé¡¿
3. "ä¸¾å¤´"å’Œ"ä½å¤´"è¦æœ‰åŠ¨ä½œæ„Ÿ
4. æœ€åä¸€å¥è¦è¯»å‡ºæ·±æ·±çš„æ€å¿µ`,
                isFavorite: false
            },
            {
                id: 2,
                title: "æ˜¥æ™“",
                author: "å­Ÿæµ©ç„¶",
                category: "poetry",
                difficulty: 1,
                excerpt: "æ˜¥çœ ä¸è§‰æ™“ï¼Œå¤„å¤„é—»å•¼é¸Ÿã€‚å¤œæ¥é£é›¨å£°ï¼ŒèŠ±è½çŸ¥å¤šå°‘ã€‚",
                content: `æ˜¥çœ ä¸è§‰æ™“ï¼Œå¤„å¤„é—»å•¼é¸Ÿã€‚
å¤œæ¥é£é›¨å£°ï¼ŒèŠ±è½çŸ¥å¤šå°‘ã€‚

è¿™é¦–è¯—æå†™äº†æ˜¥å¤©æ—©æ™¨çš„ç¾å¥½æ™¯è±¡ï¼Œè¡¨è¾¾äº†è¯—äººå¯¹æ˜¥å¤©çš„å–œçˆ±å’Œå¯¹è‡ªç„¶çš„æ„Ÿæ‚Ÿã€‚

æœ—è¯»è¦ç‚¹ï¼š
1. è¯­è°ƒè¦è½»å¿«æ´»æ³¼ï¼Œä½“ç°æ˜¥å¤©çš„ç”Ÿæœº
2. "å¤„å¤„é—»å•¼é¸Ÿ"è¦è¯»å‡ºé¸Ÿå„¿çš„æ¬¢å¿«
3. "å¤œæ¥é£é›¨å£°"è¯­è°ƒç¨æ²‰
4. æœ€åä¸€å¥å¸¦æœ‰ç–‘é—®å’Œæ„Ÿå¹çš„è¯­æ°”`,
                isFavorite: true
            },
            {
                id: 3,
                title: "å†åˆ«åº·æ¡¥",
                author: "å¾å¿—æ‘©",
                category: "modern",
                difficulty: 4,
                excerpt: "è½»è½»çš„æˆ‘èµ°äº†ï¼Œæ­£å¦‚æˆ‘è½»è½»çš„æ¥ï¼›æˆ‘è½»è½»çš„æ‹›æ‰‹ï¼Œä½œåˆ«è¥¿å¤©çš„äº‘å½©ã€‚",
                content: `è½»è½»çš„æˆ‘èµ°äº†ï¼Œ
æ­£å¦‚æˆ‘è½»è½»çš„æ¥ï¼›
æˆ‘è½»è½»çš„æ‹›æ‰‹ï¼Œ
ä½œåˆ«è¥¿å¤©çš„äº‘å½©ã€‚

é‚£æ²³ç•”çš„é‡‘æŸ³ï¼Œ
æ˜¯å¤•é˜³ä¸­çš„æ–°å¨˜ï¼›
æ³¢å…‰é‡Œçš„è‰³å½±ï¼Œ
åœ¨æˆ‘çš„å¿ƒå¤´è¡æ¼¾ã€‚

è¿™æ˜¯å¾å¿—æ‘©çš„ä»£è¡¨ä½œï¼Œè¡¨è¾¾äº†è¯—äººå¯¹åº·æ¡¥çš„æ·±æ·±çœ·æ‹å’Œç¦»åˆ«çš„ä¸èˆã€‚

æœ—è¯»è¦ç‚¹ï¼š
1. è¯­è°ƒè¦è½»æŸ”ï¼Œä½“ç°"è½»è½»"çš„æ„Ÿè§‰
2. èŠ‚å¥è¦èˆ’ç¼“ï¼Œä¸è¦æ€¥èº
3. æ³¨æ„éŸµå¾‹æ„Ÿï¼Œæ¯è¡Œçš„é‡éŸ³è¦æŠŠæ¡å¥½
4. æƒ…æ„Ÿè¦çœŸæŒšï¼Œè¡¨è¾¾å‡ºç¦»åˆ«çš„ä¸èˆ`,
                isFavorite: false
            },
            {
                id: 4,
                title: "è·å¡˜æœˆè‰²",
                author: "æœ±è‡ªæ¸…",
                category: "prose",
                difficulty: 5,
                excerpt: "è¿™å‡ å¤©å¿ƒé‡Œé¢‡ä¸å®é™ã€‚ä»Šæ™šåœ¨é™¢å­é‡Œåç€ä¹˜å‡‰ï¼Œå¿½ç„¶æƒ³èµ·æ—¥æ—¥èµ°è¿‡çš„è·å¡˜...",
                content: `è¿™å‡ å¤©å¿ƒé‡Œé¢‡ä¸å®é™ã€‚ä»Šæ™šåœ¨é™¢å­é‡Œåç€ä¹˜å‡‰ï¼Œå¿½ç„¶æƒ³èµ·æ—¥æ—¥èµ°è¿‡çš„è·å¡˜ï¼Œåœ¨è¿™æ»¡æœˆçš„å…‰é‡Œï¼Œæ€»è¯¥å¦æœ‰ä¸€ç•ªæ ·å­å§ã€‚æœˆäº®æ¸æ¸åœ°å‡é«˜äº†ï¼Œå¢™å¤–é©¬è·¯ä¸Šå­©å­ä»¬çš„æ¬¢ç¬‘ï¼Œå·²ç»å¬ä¸è§äº†ï¼›å¦»åœ¨å±‹é‡Œæ‹ç€é—°å„¿ï¼Œè¿·è¿·ç³Šç³Šåœ°å“¼ç€çœ æ­Œã€‚æˆ‘æ‚„æ‚„åœ°æŠ«äº†å¤§è¡«ï¼Œå¸¦ä¸Šé—¨å‡ºå»ã€‚

æ²¿ç€è·å¡˜ï¼Œæ˜¯ä¸€æ¡æ›²æŠ˜çš„å°ç…¤å±‘è·¯ã€‚è¿™æ˜¯ä¸€æ¡å¹½åƒ»çš„è·¯ï¼›ç™½å¤©ä¹Ÿå°‘äººèµ°ï¼Œå¤œæ™šæ›´åŠ å¯‚å¯ã€‚è·å¡˜å››é¢ï¼Œé•¿ç€è®¸å¤šæ ‘ï¼Œè“Šè“Šéƒéƒçš„ã€‚è·¯çš„ä¸€æ—ï¼Œæ˜¯äº›æ¨æŸ³ï¼Œå’Œä¸€äº›ä¸çŸ¥é“åå­—çš„æ ‘ã€‚æ²¡æœ‰æœˆå…‰çš„æ™šä¸Šï¼Œè¿™è·¯ä¸Šé˜´æ£®æ£®çš„ï¼Œæœ‰äº›æ€•äººã€‚ä»Šæ™šå´å¾ˆå¥½ï¼Œè™½ç„¶æœˆå…‰ä¹Ÿè¿˜æ˜¯æ·¡æ·¡çš„ã€‚

æœ—è¯»è¦ç‚¹ï¼š
1. è¯­è°ƒè¦å¹³å’Œï¼Œä½“ç°æ•£æ–‡çš„æŠ’æƒ…æ€§
2. æ³¨æ„è¯­é€Ÿçš„å˜åŒ–ï¼Œæå†™æ™¯ç‰©æ—¶å¯ç¨æ…¢
3. æƒ…æ„Ÿè¦ç»†è…»ï¼Œè¡¨è¾¾å‡ºä½œè€…çš„å¿ƒå¢ƒ
4. æ³¨æ„åœé¡¿ï¼Œè®©å¬ä¼—æœ‰æƒ³è±¡çš„ç©ºé—´`,
                isFavorite: false
            },
            {
                id: 5,
                title: "å°†è¿›é…’",
                author: "æç™½",
                category: "poetry",
                difficulty: 5,
                excerpt: "å›ä¸è§ï¼Œé»„æ²³ä¹‹æ°´å¤©ä¸Šæ¥ï¼Œå¥”æµåˆ°æµ·ä¸å¤å›ã€‚å›ä¸è§ï¼Œé«˜å ‚æ˜é•œæ‚²ç™½å‘...",
                content: `å›ä¸è§ï¼Œé»„æ²³ä¹‹æ°´å¤©ä¸Šæ¥ï¼Œå¥”æµåˆ°æµ·ä¸å¤å›ã€‚
å›ä¸è§ï¼Œé«˜å ‚æ˜é•œæ‚²ç™½å‘ï¼Œæœå¦‚é’ä¸æš®æˆé›ªã€‚
äººç”Ÿå¾—æ„é¡»å°½æ¬¢ï¼Œè«ä½¿é‡‘æ¨½ç©ºå¯¹æœˆã€‚
å¤©ç”Ÿæˆ‘æå¿…æœ‰ç”¨ï¼Œåƒé‡‘æ•£å°½è¿˜å¤æ¥ã€‚

è¿™æ˜¯æç™½çš„ä»£è¡¨ä½œä¹‹ä¸€ï¼Œè¡¨è¾¾äº†è¯—äººè±ªæ”¾ä¸ç¾çš„æ€§æ ¼å’Œå¯¹äººç”Ÿçš„æ„Ÿæ‚Ÿã€‚

æœ—è¯»è¦ç‚¹ï¼š
1. è¯­è°ƒè¦è±ªæ”¾æ¿€æ˜‚ï¼Œä½“ç°æç™½çš„æ€§æ ¼
2. "å›ä¸è§"è¦è¯»å‡ºå‘¼å”¤çš„è¯­æ°”
3. "å¤©ç”Ÿæˆ‘æå¿…æœ‰ç”¨"è¦è¯»å‡ºè‡ªä¿¡å’Œè±ªè¿ˆ
4. æ•´ä½“èŠ‚å¥è¦æœ‰èµ·ä¼ï¼Œå¯Œæœ‰æ„ŸæŸ“åŠ›`,
                isFavorite: true
            },
            {
                id: 6,
                title: "é›¨å··",
                author: "æˆ´æœ›èˆ’",
                category: "modern",
                difficulty: 4,
                excerpt: "æ’‘ç€æ²¹çº¸ä¼ï¼Œç‹¬è‡ªå½·å¾¨åœ¨æ‚ é•¿ã€æ‚ é•¿åˆå¯‚å¯¥çš„é›¨å··...",
                content: `æ’‘ç€æ²¹çº¸ä¼ï¼Œç‹¬è‡ª
å½·å¾¨åœ¨æ‚ é•¿ã€æ‚ é•¿
åˆå¯‚å¯¥çš„é›¨å··ï¼Œ
æˆ‘å¸Œæœ›é€¢ç€
ä¸€ä¸ªä¸é¦™ä¸€æ ·åœ°
ç»“ç€æ„æ€¨çš„å§‘å¨˜ã€‚

å¥¹æ˜¯æœ‰
ä¸é¦™ä¸€æ ·çš„é¢œè‰²ï¼Œ
ä¸é¦™ä¸€æ ·çš„èŠ¬èŠ³ï¼Œ
ä¸é¦™ä¸€æ ·çš„å¿§æ„ï¼Œ
åœ¨é›¨ä¸­å“€æ€¨ï¼Œ
å“€æ€¨åˆå½·å¾¨ã€‚

è¿™é¦–è¯—è¥é€ äº†ä¸€ç§æœ¦èƒ§ã€å¿§éƒçš„æ„å¢ƒï¼Œè¡¨è¾¾äº†è¯—äººå†…å¿ƒçš„å­¤ç‹¬å’Œå¯¹ç¾å¥½çš„å‘å¾€ã€‚

æœ—è¯»è¦ç‚¹ï¼š
1. è¯­è°ƒè¦è½»æŸ”å¿§éƒï¼Œä½“ç°è¯—æ­Œçš„æ„å¢ƒ
2. èŠ‚å¥è¦ç¼“æ…¢ï¼Œè¥é€ æœ¦èƒ§çš„æ„Ÿè§‰
3. "æ‚ é•¿ã€æ‚ é•¿"è¦æ‹‰é•¿éŸ³è°ƒ
4. æƒ…æ„Ÿè¦ç»†è…»ï¼Œè¡¨è¾¾å‡ºå†…å¿ƒçš„å­¤ç‹¬`,
                isFavorite: false
            }
        ];

        // å½“å‰çŠ¶æ€
        let currentPage = 1;
        let currentCategory = 'all';
        let currentSearch = '';
        const itemsPerPage = 6;

        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            initMaterials();
            initEventListeners();
        });

        // åˆå§‹åŒ–ææ–™å±•ç¤º
        function initMaterials() {
            renderMaterials();
            renderPagination();
        }

        // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬
        function initEventListeners() {
            // æœç´¢è¾“å…¥
            const searchInput = document.getElementById('searchInput');
            searchInput.addEventListener('input', utils.debounce(handleSearch, 300));

            // åˆ†ç±»ç­›é€‰
            const filterButtons = document.querySelectorAll('.filter-btn');
            filterButtons.forEach(btn => {
                btn.addEventListener('click', handleCategoryFilter);
            });
        }

        // å¤„ç†æœç´¢
        function handleSearch(e) {
            currentSearch = e.target.value.toLowerCase();
            currentPage = 1;
            renderMaterials();
            renderPagination();
        }

        // å¤„ç†åˆ†ç±»ç­›é€‰
        function handleCategoryFilter(e) {
            const category = e.target.dataset.category;
            currentCategory = category;
            currentPage = 1;

            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            e.target.classList.add('active');

            renderMaterials();
            renderPagination();
        }

        // ç­›é€‰ææ–™
        function filterMaterials() {
            return materialsData.filter(material => {
                const matchesCategory = currentCategory === 'all' || material.category === currentCategory;
                const matchesSearch = currentSearch === '' || 
                    material.title.toLowerCase().includes(currentSearch) ||
                    material.author.toLowerCase().includes(currentSearch) ||
                    material.excerpt.toLowerCase().includes(currentSearch);
                
                return matchesCategory && matchesSearch;
            });
        }

        // æ¸²æŸ“ææ–™
        function renderMaterials() {
            const grid = document.getElementById('materialsGrid');
            const loadingState = document.getElementById('loadingState');
            const emptyState = document.getElementById('emptyState');

            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            loadingState.style.display = 'block';
            grid.style.display = 'none';
            emptyState.style.display = 'none';

            setTimeout(() => {
                const filteredMaterials = filterMaterials();
                const startIndex = (currentPage - 1) * itemsPerPage;
                const endIndex = startIndex + itemsPerPage;
                const currentMaterials = filteredMaterials.slice(startIndex, endIndex);

                loadingState.style.display = 'none';

                if (currentMaterials.length === 0) {
                    emptyState.style.display = 'block';
                    grid.style.display = 'none';
                } else {
                    emptyState.style.display = 'none';
                    grid.style.display = 'grid';
                    
                    grid.innerHTML = currentMaterials.map(material => `
                        <div class="material-card" onclick="openMaterialModal(${material.id})">
                            <div class="material-image">
                                ${getCategoryIcon(material.category)}
                            </div>
                            <div class="material-body">
                                <span class="material-category">${getCategoryName(material.category)}</span>
                                <h3 class="material-title">${material.title}</h3>
                                <p class="material-author">ä½œè€…ï¼š${material.author}</p>
                                <p class="material-excerpt">${material.excerpt}</p>
                                <div class="material-footer">
                                    <div class="material-difficulty">
                                        <span>éš¾åº¦ï¼š</span>
                                        <div class="difficulty-stars">
                                            ${generateStars(material.difficulty)}
                                        </div>
                                    </div>
                                    <div class="material-actions">
                                        <button class="action-btn btn-view" onclick="event.stopPropagation(); openMaterialModal(${material.id})">æŸ¥çœ‹</button>
                                       
                                    </div>
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
            }, 500);
        }

        // æ¸²æŸ“åˆ†é¡µ
        function renderPagination() {
            const pagination = document.getElementById('pagination');
            const filteredMaterials = filterMaterials();
            const totalPages = Math.ceil(filteredMaterials.length / itemsPerPage);

            if (totalPages <= 1) {
                pagination.style.display = 'none';
                return;
            }

            pagination.style.display = 'flex';
            
            let paginationHTML = '';
            
            // ä¸Šä¸€é¡µæŒ‰é’®
            paginationHTML += `
                <button class="page-btn" ${currentPage === 1 ? 'disabled' : ''} onclick="changePage(${currentPage - 1})">
                    ä¸Šä¸€é¡µ
                </button>
            `;
            
            // é¡µç æŒ‰é’®
            for (let i = 1; i <= totalPages; i++) {
                if (i === 1 || i === totalPages || (i >= currentPage - 2 && i <= currentPage + 2)) {
                    paginationHTML += `
                        <button class="page-btn ${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">
                            ${i}
                        </button>
                    `;
                } else if (i === currentPage - 3 || i === currentPage + 3) {
                    paginationHTML += '<span class="page-btn" style="border: none; background: none;">...</span>';
                }
            }
            
            // ä¸‹ä¸€é¡µæŒ‰é’®
            paginationHTML += `
                <button class="page-btn" ${currentPage === totalPages ? 'disabled' : ''} onclick="changePage(${currentPage + 1})">
                    ä¸‹ä¸€é¡µ
                </button>
            `;
            
            pagination.innerHTML = paginationHTML;
        }

        // åˆ‡æ¢é¡µé¢
        function changePage(page) {
            currentPage = page;
            renderMaterials();
            renderPagination();
            
            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // è·å–åˆ†ç±»å›¾æ ‡
        function getCategoryIcon(category) {
            const icons = {
                poetry: 'ğŸ“œ',
                modern: 'ğŸ­',
                prose: 'ğŸ“–',
                classic: 'ğŸ“š'
            };
            return icons[category] || 'ğŸ“„';
        }

        // è·å–åˆ†ç±»åç§°
        function getCategoryName(category) {
            const names = {
                poetry: 'å¤è¯—è¯',
                modern: 'ç°ä»£è¯—',
                prose: 'æ•£æ–‡',
                classic: 'ç»å…¸æ–‡å­¦'
            };
            return names[category] || 'å…¶ä»–';
        }

        // ç”Ÿæˆæ˜Ÿçº§
        function generateStars(difficulty) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                stars += `<span class="star ${i <= difficulty ? 'filled' : ''}"></span>`;
            }
            return stars;
        }

        // åˆ‡æ¢æ”¶è—çŠ¶æ€
        function toggleFavorite(id) {
            const material = materialsData.find(m => m.id === id);
            if (material) {
                material.isFavorite = !material.isFavorite;
                renderMaterials();
                
                const message = material.isFavorite ? 'å·²æ·»åŠ åˆ°æ”¶è—' : 'å·²å–æ¶ˆæ”¶è—';
                app.notifications.show(message, 'success', 2000);
            }
        }

        // æ‰“å¼€ææ–™è¯¦æƒ…æ¨¡æ€æ¡†
        function openMaterialModal(id) {
            const material = materialsData.find(m => m.id === id);
            if (!material) return;

            const modal = document.getElementById('materialModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');

            modalTitle.textContent = material.title;
            modalBody.innerHTML = `
                <div style="margin-bottom: 1rem;">
                    <span class="material-category">${getCategoryName(material.category)}</span>
                    <h4 style="margin: 0.5rem 0; color: var(--gray-700);">ä½œè€…ï¼š${material.author}</h4>
                    <div class="material-difficulty" style="margin-bottom: 1rem;">
                        <span>éš¾åº¦ï¼š</span>
                        <div class="difficulty-stars">
                            ${generateStars(material.difficulty)}
                        </div>
                    </div>
                </div>
                <div style="white-space: pre-line; line-height: 1.8; color: var(--gray-700);">
                    ${material.content}
                </div>
                <div style="margin-top: 2rem; display: flex; gap: 1rem;">
                   
                </div>
            `;

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // å…³é—­ææ–™è¯¦æƒ…æ¨¡æ€æ¡†
        function closeMaterialModal() {
            const modal = document.getElementById('materialModal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        // æ›´æ–°æ¨¡æ€æ¡†ä¸­çš„æ”¶è—çŠ¶æ€
        function updateModalFavorite(id) {
            const material = materialsData.find(m => m.id === id);
            const favoriteBtn = document.querySelector('.modal .btn-favorite');
            if (favoriteBtn && material) {
                favoriteBtn.className = `action-btn btn-favorite ${material.isFavorite ? 'active' : ''}`;
                favoriteBtn.innerHTML = material.isFavorite ? 'â¤ï¸ å·²æ”¶è—' : 'ğŸ¤ æ”¶è—';
            }
        }

        // å¼€å§‹ç»ƒä¹ 
        function startPractice(id) {
            app.notifications.show('å³å°†è·³è½¬åˆ°ç»ƒä¹ é¡µé¢...', 'info', 2000);
            setTimeout(() => {
                window.location.href = `practice.html?id=${id}`;
            }, 1000);
        }

        // ESCé”®å…³é—­æ¨¡æ€æ¡†
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeMaterialModal();
            }
        });

        // ç‚¹å‡»èƒŒæ™¯å…³é—­æ¨¡æ€æ¡†
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                closeMaterialModal();
            }
        });
        
    </script>

</body>
</html>

